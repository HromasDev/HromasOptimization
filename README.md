# Гайд по правильной установке, оптимизации и настройке Windows.

# Содержание
- [Установка Windows](#установка-windows)
  - [Создание загрузочной флешки](#создание-загрузочной-флешки)
- [Оптимизация Windows](#оптимизация-windows)
  - [Кратко о главном](#кратко-о-главном)
  - [Быстрый старт](#быстрый-старт)
  - [Удаление мусора](#удаление-мусора)
  - [Основная оптимизация](#основная-оптимизация)
- [Настройка Windows](#настройка-windows)
  - [Настройка Панели управления](#настройка-панели-управления)
  - [Настройка Панели управления Nvidia](#настройка-панели-управления-nvidia)
- [Оптимизация дисков](#оптимизация-дисков)
- [Создание бэкапа системы](#создание-бэкапа-системы)
- [Замечания](#замечания)

# Установка Windows
Для правильной установки Windows, достаточно скачать ее с [официального сайта](https://www.microsoft.com/software-download) либо с [зеркала](https://massgrave.dev/msdl/) от Massgrave. (версии полностью официальные, и скачиваются напрямую с официальных серверов Microsoft, и при этом не требует включения VPN или использование сторонних прокси для России).

## Создание загрузочной флешки
Самый простой способ создания загрузочной флешки это через [Rufus](https://en.wikipedia.org/wiki/Rufus_(software)), поэтому и будем использовать его.

[Скачиваем с официального сайта](https://rufus.ie/)

Устанавливаем, после запускаем:

1. Выбираем необходимую флешку для установки
2. Загружаем iso образ который был скачен ранее
3. Схему раздела устанавливаем в зависимости от вашей [структуры](#выбор-схемы-раздела)
4. Остальное оставляем как на скриншоте

![scale_1200](https://github.com/HromasDev/HromasOptimization/assets/90126334/e9341046-a08c-473c-8471-2a65306edb92)

Далее откроется окно опций, выбераем по своему усмотрению (рекомендую поставить все галочки)

![1](https://github.com/HromasDev/HromasOptimization/assets/90126334/e8d4e110-f2ec-4a0a-9a1a-786ec90a243d)

После этого, нажимаем ОК, соглашаемся и ожидаем установки. После этого перезагружаемся, ставим загрузочный диск в F12 и следуем дальнейшим инструкциям.

# Оптимизация Windows
## Кратко о главном

Как правило в не зависимости от того какую мы Windows устанавливаем, она засорена ненужным хламом, различными компонентами и программами которые даже удалить через панель управления невозможно.

К тому же, например в России операционные системы Windows 10 и Windows 11, как выяснилось, устанавливаются медленнее, чем, например, в США. Помимо этого, после якобы чистой установки системы российские пользователи все равно получат ОС, переполненную дополнительными программами, часть из которых нельзя удалить стандартными методами.

Столь необычную проблему выявил американский пользователь заблокированной в России социальной сети Twitter под псевдонимом `ThioJoe (@thiojoe)`. В своем блоге он написал, что подобное характерно в принципе для всех стран, кроме тех, что используют американскую систему написания дат и времени, когда вместо привычной схемы «день/месяц/год» пишут «месяц/день/год».

[*источник*](https://www.cnews.ru/news/top/2023-08-03_microsoft_iskusstvenno_zamedlyaet)

При чем этот хлам это только самая малая часть проблемных моментов Windows. Cortana, Teams, Люди, и др, никому не нужный HDCP, система контроля учетных записей (UAC), бесполезный таймер HPET (наподобие RTC), телеметрия, сбор данных без нашего ведома и прочее мы полностью вырежем, или хотя бы постараемся отключить на срок использования Windows.

> [!IMPORTANT]
> Всё что будет выполнено далее, совместимо с `Windows 10 и выше`, в более ранних версиях некоторые настройки могут отличаться.

## Быстрый старт

После того как мы установили "чистую" винду, зайдем в Win + I -> Центр обновления Windows, и обновим все драйвера до последних

![4](https://github.com/HromasDev/HromasOptimization/assets/90126334/c66a91d1-8505-4f0c-9b9a-a698923ec969)

Отправляемся на перезагрузку, и снова проверям наличие обновлений, если имеются - обновляем и опять перезагружаем.

## Удаление мусора

После того, как мы обновили все недостающие драйвера, можем приступить к удалению предустановленного мусора. 

1. Нажимаем ПКМ по меню пуск
2. Установленные приложения

Удаляем все то что нам не нужно, из того что удаляю я можно выделить:

- Microsoft OneDrive
- Microsoft Teams
- Microsoft To Do
- Microsoft Update Health
- Power Automate 
- Solitaire Collection
- Быстрая поддержка 
- Записки
- Запись голоса
- Карты
- Кино и ТВ Медиаплеер
- Погода
- Советы
- Почта и календарь
- Центр отзывов
- Часы Windows
- Cortana
- Microsoft Новости

Неудаляемые приложения мы будем тоже удалять [чуть позже](#основная-оптимизация).

Зайдем в Win + I -> Приложения -> Дополнительные компоненты

Тут удаляем:
- Windows Media Player Legacy
- Распознавание лиц
- Распознавание метематических знаки
- Internet explorer
- Содержимое расшириной темы
- Средство записи действий
- Управление печатью (не рекомендуется удалять если вы используете принтеры)

В итоге должно получиться примерно так:

![image](https://github.com/HromasDev/HromasOptimization/assets/90126334/35d19faf-85d3-4e6b-a270-29d757d681e7)

Тут же перейдем в дополнительные компоненты,

***тут важно быть осторожным чтобы не отключить что-то важное***

Если вы далеки от работы с серверами, можно отключить компонент

- Клиент рабочих папок

Если вы собираетесь использовать [сторонний плеер](https://www.codecguide.com/download_k-lite_codec_pack_mega.htm) (как и я), то следует отключить компонент

- Компоненты для работы с мультимедиа

Если если у вас нет принтера, то следует отключить компонент

- Печать в PDF
- Службы печати и документов

Итого у нас должно получиться примерно так:

![image](https://github.com/HromasDev/HromasOptimization/assets/90126334/9b4e7e1b-ed89-4102-9c16-5b7ebffed550)

## Основная оптимизация

После того как мы удалили ненужный нам хлам, загружаем [HromasOptimization](https://github.com/HromasDev/HromasOptimization/releases/latest).

Запускаем `start.exe` **от имени администратора**:

***важно запускать от имени администратора, в ином случае применяться не все изменения***

![image](https://github.com/HromasDev/HromasOptimization/assets/90126334/1ae54433-194f-4dd0-9134-08cc82c77ded)

Выбираем тип нашего устройства и соглашение на удаление Windows Defender **(не рекомендуется для неопытных пользователей)**:

![image](https://github.com/HromasDev/HromasOptimization/assets/90126334/fb6d8d49-15a1-4f88-b053-eaedafbb66b7)

после чего соглашаемся, и устанавливаем все требуемые компоненты.

# Настройка Windows

## Настройка Панели управления

Поскольку в ранее выполненной оптимизации, мы добавляли режим максимальной производительности, следует его активировать. 

Для этого:
- Перейдем в Панель управления -> Электропитание

И активируем схему "Максимальная производительность":

![image](https://github.com/HromasDev/HromasOptimization/assets/90126334/3833f93d-8a1d-436e-a482-b0df629d7333)

Далее тут же кликаем на "Действия кнопок питания" и снимаем галочки с быстрого запуска (если он есть), спящего режима и блокировки. (данные параметры нужны для ноутбуков, ПК может обойтись и без них)

![Анимация](https://github.com/HromasDev/HromasOptimization/assets/90126334/98f6ebd5-025f-4ab0-8aa2-04da71c9c1b3)

В "Настройках отключения дисплея" выставляем свои параметры, а вот переводить режим в спящий режим не рекомендуется. (опять же если у вас не ноутбук)

![Анимация](https://github.com/HromasDev/HromasOptimization/assets/90126334/a8414372-c02c-4278-8d2d-c55be060f684)

## Настройка Панели управления Nvidia

- Регулировка параметров цвета
1. Перейдем в дополнительно
2. Выставляем полный динамический диапазон на всех мониторах

![nvidia1](https://github.com/HromasDev/HromasOptimization/assets/90126334/efe75b83-32df-4795-a2fc-cfb7446b14dd)

- Изменение разрешения
1. Убеждаемся что стоит максимальное разрешение монитора и его герцовка

![nvidia2](https://github.com/HromasDev/HromasOptimization/assets/90126334/205e6cbe-795b-43f2-aa89-14b764a9c90f)

- Регулировка размера
1. Отключаем масштабирование
2. Выставляем масштабирование на дисплей

![nvidia3](https://github.com/HromasDev/HromasOptimization/assets/90126334/6a9a8b08-5040-4786-9ef3-f55eb1fc992e)

- Управление параметрами 3D
1. В вертикальном синхроимпульсе ставим: Быстро.
2. Включаем потовковую оптимизацию.
3. В режиме управления электропитанием ставим: Максимальная произовдительность.

  ![nvidia4](https://github.com/HromasDev/HromasOptimization/assets/90126334/55c2762b-edd7-4e27-a2e0-55d593836e51)

  [Подробнее?](#настройка-управления-параметрами-3d)

- Настройка PhysX
1. Устанавливаем свою видеокарту в качестве процессора для движка.

![nvidia5](https://github.com/HromasDev/HromasOptimization/assets/90126334/bfa5af07-f507-47ef-b801-e3b749f78948)

# Оптимизация дисков

Запускаем проводник, переходим в свойства системного диска
1. Снимаем галочку с Разрешить индексировать содержимое файлов.

Индексация постоянно насилует диски и потребляет лишние ресурсы. Поиск будет работать и без неё, но в идеале использовать нормальный поисковик по типу [Everything](https://www.voidtools.com/) он ищет файлы намного быстрее обычного поиска Windows.

![Оптимизация дисков1](https://github.com/HromasDev/HromasOptimization/assets/90126334/14378bb6-fd05-4288-9532-034747b6dae6)

Далее перейдем на вкладку Сервис.
1. Проверим диск на ошибки
2. Нажмем оптимизировать и оптимизируем все диски.
3. Нажмем изменить параметры, и поставим ежемесячную оптимизацию дисков.

Таким образом мы оптимизировали диски, и отключили еженедельную или что еще хуже ежедневную оптимизацию. (из-за ежедневной оптимизации проводник может работать долго, и постоянно провисать)

![Оптимизация дисков2](https://github.com/HromasDev/HromasOptimization/assets/90126334/5a8610bc-3241-4d17-9b4f-dc4d46d6654f)

# Создание бэкапа системы

Теперь время выполнить бэкап системы.
1. Заходим в ранее загруженый [HromasOptimization](https://github.com/HromasDev/HromasOptimization/releases/latest), в папку .Точка восстановления
2. Запустим AOMEI Backupper
3. И создадим новый бэкап системы, выбрав пункт Системный бэкап, и указав путь к расположению нашего бэкапа.

![Бэкап](https://github.com/HromasDev/HromasOptimization/assets/90126334/69b35f00-4f82-4ebb-9eae-89b64751273c)

# Итог

Благодаря данной оптимизации системы, мы сэкономили время и избежали лишних и часто бесполезных настроек. 

Из того что мы отключили:
- сбор ваших данных от Microsoft, чтобы предотвратить передачу личной информации о вас.
- шпионские функции, которые могут собирать и передавать вашу активность и данные третьим лицам.
- Windows Defender, чтобы избежать ненужной нагрузки на систему.
- оптимизацию доставки в настройках, чтобы предотвратить нежелательное использование ресурсов сети.
- HPET таймер, чтобы улучшить производительность системы.
- уязвимости Meltdown, Spectre и Tsx в настройках, чтобы обезопасить систему от возможных атак.
- телеметрию Windows и телеметрию Nvidia, чтобы защитить конфиденциальность и уменьшить нагрузку на систему.
- систему контроля учетных записей UAC, чтобы упростить процесс работы с системой.
- HDCP (High-bandwidth Digital Content Protection), чтобы избежать ограничений при воспроизведении защищенного контента.

В ходе оптимизации мы так же удалили лишние приложения и компоненты, чтобы освободить место на диске и улучшить производительность.

Теперь ваша система полностью оптимизирована и готова к работе.
 
# Замечания

### Выбор схемы раздела
- MBR использует 32-битную адресацию
- GPT использует 64-битную адресацию

Чтобы узнать схему раздела введем в Win + R -> `diskmgmt.msc` -> ПКМ по имени диска -> Свойства (см. скриншот)

![2](https://github.com/HromasDev/HromasOptimization/assets/90126334/68c6ac30-5fea-483a-83dc-dfe7d31e6474)

В свойствах выбераем -> Тома 

![3](https://github.com/HromasDev/HromasOptimization/assets/90126334/fc04a2db-eccb-4fc3-bc29-04a2ce4fb20a)


- Если в пункте «Стиль раздела» указано «Таблица с GUID разделов» — у вас GPT-диск.
- Если указано «Основная загрузочная запись (MBR)» — у вас MBR-диск.

### Настройка управления параметрами 3D

  1. При установке вертикального синхроимпульса у нас уменьшиться разрыв изображения, и при этом снимуться ограничения отрисовки кадров в играх.
  2. Включением потовковой оптимизации приложения смогут несколько взаимодействовать с ЦП.
  3. Благодаря режиму максимальной производительности увеличиться произовдительность в приложениях, но повыситься энергопотребление)
